% Capítulo 4
\chapter{Resultados}
\label{chapter4}

Nesse capítulo, alguns trabalhos relacionados a essa monografia são mencionados na seção \ref{relatedStudies}, buscando mostrar o que tem sido feito e o diferencial desse trabalho. A seção \ref{results}, por sua vez, trata a respeito dos resultados obtidos.

\subsection{Trabalhos relacionados}
\label{relatedStudies}

Em \cite{AVisionOfSocialMedia}, é desenvolvida uma análise das Cidades Inteligentes da Espanha, verificando se nelas há esforços para assegurar que os cidadãos tenham acesso as informações da cidade, podendo assim participar das problemáticas abordadas por seus respectivos governos.

Visando alcançar esse objetivo, primeiramente foram analisadas, descritivamente, as principais Redes Sociais utilizadas nessas cidades, tendo como resultado Facebook e Twitter. Na sequência, foram definidas variáveis independentes (métricas das Redes Sociais), dependentes (\textit{Social Network Ratio}) e de controle (tempo de existência do perfil da Rede Social e Produto Interno Bruto), realizando sob elas uma análise exploratória, através de múltipla regressão linear.

Por fim, o estudo exploratório foi utilizado para determinar se as Cidades Inteligentes da Espanha faziam ou não uso das Redes Sociais, focando o nível de interação entre os cidadãos e seus governos locais. Como resultado dessa pesquisa, concluiu-se que, embora essas cidades sejam classificadas como Inteligentes, é preciso haver maior e-Participação nas Redes Sociais, posto que, atualmente, esse é um dos principais meios pelos quais as pessoas tem se comunicado.

Outro trabalho com a mesma temática, citado em \cite{LocaleGovernment}, realizou uma análise dos principais governos locais da União Europeia, no quesito de e-Participação e dos fatores que a influencia. Com essa proposta, foram analisadas 75 cidades, representando 85\% da população Europeia, sendo também levado em consideração o estilo de gestão de suas respectivas autoridades.

A metodologia de estudo analisou, exploratoriamente, as Redes Sociais Twitter, Facebook, LinkedIn, YouTube e blogs da Google (Blogger), construindo um Índice de Sofisticação não Exaustivo, composto por variáveis binárias. A construção desse índice contém os respectivos indicadores de cada Rede Social. Em seguida foi realizada uma análise de regressão para identificar como o estilo de gestão do governo e a facilidade com que a sociedade adota novas tecnologias influenciam no índice elaborado.

Os resultados da pesquisa mostram que algumas das cidades analisadas (na época do estudo), estavam com iniciativas de e-Participação muito imaturas, além disso, que metade dos governos não tinham representação nas Redes Sociais. Sendo, por outro lado, massiva a presença de cidadãos nas Redes Sociais discutindo sobre a política local, entrega de serviços, e outros assuntos relacionados a cidade, havendo um isolamento de partes que deveriam interagir entre si. Por fim, concluiu-se também que os estilos de gestão dos governos locais não influenciam na adoção ou não das Redes Sociais, mas sim a facilidade com que a sociedade adota novas tecnologias. 

Saindo do contexto de e-Participação, a referência \cite{Survey} realiza uma comparação entre o Apache Storm e Spark, relacionando-se com o estudo comparativo dessa monografia. Nela, o autor cita os casos de uso de cada uma delas, suas respectivas arquiteturas, comparando-as quanto ao modelo de processamento, latência, tolerância a falhas (especificamente, garantia de processamento), integração com processamento em \textit{batch} e a diferentes linguagens.   
 
\subsection{Resultados}
\label{results}

As tabelas contendo os resultados das métricas coletadas sobre e-Participação, estão no apêndice desse trabalho, sendo a Tab. \ref{tab:rankMetrics} um resumo de todas elas. Nela, as cidades estão classificadas de acordo com cada métrica, sendo os valores da coluna pontuação compostos pelo somatório dos pontos de todas as métricas. Os pontos são equivalentes a posição da classificação, ou seja, o 27º lugar representa 27 pontos; consequentemente, quanto menos pontos, melhor a colocação final. As cidades Porto Velho (RO) e Salvador (BH) foram desclassificadas por não terem informações sobre a métrica "tempo de resposta", indicando que não houve réplicas nos \textit{tweets} coletados, conforme Tab. \ref{tab:inReplyMetrics}.

\begin{table}[!htb]
	% Título de tabelas sempre aparecem antes da tabela
	\centering
	\begin{threeparttable}
	\caption{Colocações \tnote{1} das Cidades Inteligentes brasileiras \tnote{2} em relação as de e-Participação}
	\centering
	\bigskip
	\label{tab:smartCitiesRanking}
		\begin{tabular}{c|c|c|c}
			\hline
            {\bf UF} & {\bf Capital} & {\bf Cidades Inteligentes \tnote{3}} & {\bf e-Participação \tnote{4}}\\
			\hline
			RJ & Rio de Janeiro & 1º & 6º\\
			SP & São Paulo & 2º & 2º\\
			MG & Belo Horizonte & 3º & 7º\\
			DF & Brasília & 4º & 10º\\
			PR & Curitiba & 5º & 1º\\
			ES & Vitória & 7º & 16º\\
			SC & Florianópolis & 8º & 18º\\
			RS & Porto Alegre & 9º & 4º\\
			PE & Recife & 10º & 7º\\
			CE & Fortaleza & 18º & 13º\\
			GO & Goiânia & 24º & 5º\\
			PB & João Pessoa & 29º & 8º\\
			BA & Salvador & 31º & -\\
			SE & Aracaju & 33º & 14º\\
			PI & Teresina & 35º & 13º\\	
			\hline	
		\end{tabular}
		\begin{tablenotes}
		    \item[1] As cidades ausentes não estão classificadas como Inteligentes ou não são capitais.
		    \item[2] \textit{Ranking} geral composto por 50 cidades
            	\item[3] Colocação como Cidade Inteligente
            	\item[4] Colocação em e-Participação. O sinal de subtração indica desclassificação por ausência de umas das métricas analisadas.
        \end{tablenotes}
        	\end{threeparttable}
	\center {\bf Fonte: }\cite{BrazilianSmartCitiesRanking}
\end{table}

Visando comparar essa classificação, podemos citar o trabalho realizado pelo Connected Smart Cities, que classificou algumas das cidades brasileiras como Cidades Inteligentes \cite{BrazilianSmartCitiesRanking}, levando em consideração 70 indicadores, sendo nenhum deles relacionados a e-Participação. Com esse fim, foi construída a a Tab. \ref{tab:smartCitiesRanking}, contendo apenas a colocação das cidades analisadas por essa monografia. Como esperado, analisando ambas as classificações, nem todas as colocações são correspondentes.

Por exemplo, o Rio de Janeiro ocupa a primeira colocação na classificação das Cidades Inteligentes, enquanto que no quesito e-Participação, está em sexto lugar, observando-se essa diferença também em outras cidades. Em contraste, Goiânia, Porto Alegre, Recife, Fortaleza, João Pessoa, estão melhores classificadas quanto a e-Participação.

São Paulo em ambos os casos, coincidentemente, ficou em segundo lugar, obtendo boas colocações como esperado por ser referência mundial em Governo Aberto \cite{OpenGovernmentPartnership}, e Curitiba, devido ao fato de ser exemplo de comunicação em Redes Sociais \cite{CuritibaUseCase}, favorecendo a e-Participação. Por outro lado, a prefeitura de São Luís não aparece dentre as cinquenta cidades brasileiras classificadas como inteligente, mas em terceiro lugar quanto a e-Participação, sendo um resultado não esperado.

A Fig. \ref{fig:webApllication}, ilustra a aplicação \textit{web} para exibição do mapa relacionado as métricas coletadas e polaridades de sentimentos processadas. Como já mencionado no Cap. \ref{chapter3}, para cada métrica (escolhida no menu seletor) é computada a média nacional, adicionando uma camada vermelha sobre a região com valor inferior a ela, e azul caso superior. Além disso, é possível obter informações detalhadas clicando em cima da região no mapa, conforme exibido na Fig. \ref{fig:webApllication2}. 

\begin{table}[!htb]
	\center
		% Título de tabelas sempre aparecem antes da tabela
	\caption{Colocação dos perfis das prefeituras das capitais, de acordo com suas respectivas métricas}
	\bigskip
	\label{tab:rankMetrics}
	{
		\begin{threeparttable}
		\begin{tabular}{c|c|c|c|c|c|c|c|c|c|c}
			\hline
            {\bf UF} & {\bf Capital} & {\bf A \tnote{1}} & {\bf B \tnote{2}} & {\bf C \tnote{3}} & {\bf D \tnote{4}} & {\bf E \tnote{5}} & {\bf F \tnote{6}} & {\bf H \tnote{7}} & {\bf P \tnote{8}} & {\bf Colocação \tnote{9}}\\
			\hline
			AC & Rio Branco & 24º & 20º & 23º & 22º & 1º & 19º & 24º & 133 & 19º\\
			AL & Maceió & 12º & 19º & 17º & 10º & 19º & 18º & 20º & 108 & 15º\\
			AM & Manaus & 21º & 18º & 16º & 17º & 14º & 22º & 9º & 111 & 17º\\
			AP & Macapá & 14º & 3º & 6º & 7º & 13º & 12º & 19º & 68 & 9º\\
			BA & Salvador & 18º & 25º & 25º & - & - & 27º & 26º & 121 & -\\	
			CE & Fortaleza & 16º & 15º & 13º & 21º & 10º & 9º & 5º & 89 & 13º\\
			DF & Brasília & 10º & 10º & 11º & 18º & 3º & 13º & 4º & 69 & 10º\\
			ES & Vitória & 15º & 23º & 21º & 13º & 8º & 21º & 12º & 108 & 16º\\
			GO & Goiânia & 1º & 11º & 12º & 15º & 4º & 4º & 11º & 55 & 5º\\
			MA & São Luís & 6º & 1º & 1º & 9º & 11º & 8º & 13º & 42 & 3º\\
			MG & Belo Horizonte & 19º & 9º & 5º & 12º & 7º & 10º & 6º & 63 & 7º\\
			MS & Campo Grande & 20º & 26º & 27º & 25º & 5º & 26º & 25º & 154 & 23º\\
			MT & Cuiabá & 26º & 27º & 24º & 20º & 15º & 23º & 23º & 152 & 22º\\
			PA & Belém & 27º & 22º & 19º & 16º & 16º & 20º & 15º & 135 & 20º\\		
			PB & João Pessoa & 2º & 16º & 14º & 4º & 24º & 7º & 8º & 67 & 8º\\
			PE & Recife & 11º & 14º & 10º & 3º & 25º & 6º & 2º & 63 & 7º\\
			PI & Teresina & 13º & 6º & 18º & 5º & 17º & 16º & 21º & 89 & 13º\\
			PR & Curitiba & 8º & 2º & 2º & 1º & 21º & 2º & 1º & 30 & 1º\\
			RJ & Rio de Janeiro & 17º & 7º & 4º & 14º & 12º & 1º & 10º & 58 & 6º\\
			RN & Natal & 9º & 8º & 7º & 19º & 6º & 17º & 18º & 84 & 12º\\
			RO & Porto Velho & 23º & 21º & 26º & - & - & 25º & 27º & 122 & -\\
			RR & Boa Vista & 24º & 24º & 22º & 11º & 22º & 24º & 22º & 149 & 21º\\
			RS & Porto Alegre & 3º & 5º & 8º & 6º & 20º & 14º & 3º & 52 & 4º\\
			SC & Florianópolis & 25º & 17º & 20º & 23º & 9º & 5º & 14º & 113 & 18º\\
			SE & Aracaju & 7º & 13º & 15º & 24º & 2º & 15º & 17º & 93 & 14º\\
			SP & São Paulo & 5º & 4º & 3º & 2º & 23º & 3º & 7º & 39 & 2º\\
			TO & Palmas & 4º & 12º & 9º & 8º & 18º & 11º & 16º & 71 & 11º\\
			\hline
		\end{tabular}
		\begin{tablenotes}
            \item[1] Métrica de \textit{tweets} por dia
            \item[2] Métrica de \textit{retweets} por dia
            \item[3] Métrica de favoritos
            \item[4] Métrica de réplicas
            \item[5] Métrica de tempo de resposta
            \item[6] Métrica de menções
            \item[7] Métrica de Nº de seguidores
            \item[8] Pontuação obtida pelo somatório das métricas
            \item[9] Cidades desclassificas e métricas nulas são indicadas com o sinal de subtração.
        \end{tablenotes}
     \end{threeparttable}
     }
		\center {\bf Fonte:} Elaboração própria
\end{table}

\begin{figure}[!hb]
  \centering
    \includegraphics[width=1\textwidth]{Imagens/webApplication.png}
  \caption{Ilustração da aplicação web desenvolvida}
  {\bf Fonte:} Elaboração própria
  \label{fig:webApllication}
\end{figure}

\begin{figure}[!hb]
  \centering
    \includegraphics[width=1\textwidth]{Imagens/webApplication2.png}
  \caption{Ilustração do painel informativo da aplicação web}
  {\bf Fonte:} Elaboração própria
  \label{fig:webApllication2}
\end{figure}

As aplicações que realizaram o processamento de stream de \textit{tweets} em tempo real, foram executadas em dois dias (22/05 com Spark e 23/05 com Storm), durante o período de 12h, estando os resultados do primeiro dia na Tab.\ref{tab:sentimentsSpark}, e do segundo na Tab.\ref{tab:sentimentsStorm}.

Com base nesses resultados, para cada polaridade foi calculada a média entre todas as cidades, utilizada para construir o mapa da aplicação web (Fig.\ref{fig:sentimentsSpark} e Fig.\ref{fig:sentimentsStorm}). No qual, pode-se visualizar a polaridade dos sentimentos dos \textit{tweets} que mencionam os perfis do Twitter em análise. Além disso, observa-se também nas tabelas mencionadas, que as cidades melhores classificadas pela primeira aplicação interagiram mais com suas respectivas prefeituras, reforçando os primeiros resultados encontrados. 

Quanto ao estudo comparativo entre o Storm e o Spark, podemos dizer que a primeira opção, respectivamente, é melhor de ser utilizada como aplicação para processamento de \textit{streams} de \textit{tweets}. Apesar do valor de \textit{throughput} do Spark ser superior, e dele fornecer um modelo de processamento de dados mais eficiente, a arquitetura de Tolerância a Falhas do Storm precisa ser priorizada, devido ao longo tempo de execução da aplicação.

Por fim, com base nos resultados citados anteriormente, o trabalho realizado por essa monografia se diferencia dos trabalhos relacionados, por proporcionar aplicações para processamento de grande volume de dados, provenientes do Twitter, visando obter métricas e visualização de métricas sobre e-Participação.

\begin{figure}[!ht]
  \centering
    \includegraphics[width=1\textwidth]{Imagens/sentimentsSpark.png}
  \caption{Ilustração das polaridades de sentimentos processadas pelo Spark}
  {\bf Fonte:} Elaboração própria
  \label{fig:sentimentsSpark}
\end{figure}

\begin{figure}[!ht]
  \centering
    \includegraphics[width=1\textwidth]{Imagens/sentimentsStorm.png}
  \caption{Ilustração das polaridades de sentimentos processadas pelo Storm}
  {\bf Fonte:} Elaboração própria
  \label{fig:sentimentsStorm}
\end{figure}

\sloppy

\begin{table}[!htb]
	\center
		% Título de tabelas sempre aparecem antes da tabela
	\caption{Polaridade dos sentimentos processados pelo Spark, referente ao dia 22/05/2016}
	\bigskip
	\label{tab:sentimentsSpark}
	{
		\begin{tabular}{c|c|c|c|c}
			\hline
            {\bf UF} & {\bf Capital} & {\bf Positiva} & {\bf Negativa} & {\bf Neutra}\\
			\hline
			AC & Rio Branco & 0 & 0 & 0\\
			AL & Maceió & 0 & 0 & 2\\
			AM & Manaus & 0 & 0 & 0\\
			AP & Macapá & 0 & 0 & 0\\
			BA & Salvador & 0 & 0 & 7\\	
			CE & Fortaleza & 0 & 0 & 13\\
			DF & Brasília & 0 & 0 & 14\\
			ES & Vitória & 0 & 0 & 0\\
			GO & Goiânia & 2 & 0 & 7\\
			MA & São Luís & 3 & 1 & 27\\
			MG & Belo Horizonte & 6 & 7 & 8\\
			MS & Campo Grande & 1 & 0 & 0\\
			MT & Cuiabá & 0 & 0 & 0\\
			PA & Belém & 0 & 0 & 4\\		
			PB & João Pessoa & 1 & 0 & 17\\
			PE & Recife & 9 & 0 & 24\\
			PI & Teresina & 0 & 0 & 13\\
			PR & Curitiba & 12 & 13 & 51\\
			RJ & Rio de Janeiro & 12 & 3 & 102\\
			RN & Natal & 0 & 4 & 2\\
			RO & Porto Velho & 0 & 0 & 0\\
			RR & Boa Vista & 0 & 0 & 0\\
			RS & Porto Alegre & 0 & 0 & 1\\
			SC & Florianópolis & 2 & 1 & 33\\
			SE & Aracaju & 0 & 0 & 1\\
			SP & São Paulo & 38 & 9 & 119\\
			TO & Palmas & 2 & 10 & 12\\
			\hline
		\end{tabular}
	}
	\center{\bf Fonte: }{Elaboração própria}
\end{table}

\sloppy

\begin{table}[!htb]
	\center
		% Título de tabelas sempre aparecem antes da tabela
	\caption{Polaridade dos sentimentos processados pelo Storm, referente ao dia 23/05/2016}
	\bigskip
	\label{tab:sentimentsStorm}
	{
		\begin{tabular}{c|c|c|c|c}
			\hline
            {\bf UF} & {\bf Capital} & {\bf Positiva} & {\bf Negativa} & {\bf Neutra}\\
			\hline
			AC & Rio Branco & 0 & 1 & 1\\
			AL & Maceió & 0 & 0 & 5\\
			AM & Manaus & 0 & 0 & 9\\
			AP & Macapá & 0 & 0 & 0\\
			BA & Salvador & 0 & 0 & 7\\	
			CE & Fortaleza & 0 & 0 & 36\\
			DF & Brasília & 2 & 4 & 18\\
			ES & Vitória & 0 & 0 & 0\\
			GO & Goiânia & 13 & 9 & 102\\
			MA & São Luís & 4 & 4 & 22\\
			MG & Belo Horizonte & 3 & 4 & 22\\
			MS & Campo Grande & 0 & 0 & 0\\
			MT & Cuiabá & 0 & 0 & 0\\
			PA & Belém & 0 & 1 & 15\\		
			PB & João Pessoa & 1 & 4 & 35\\
			PE & Recife & 4 & 1 & 34\\
			PI & Teresina & 1 & 0 & 33\\
			PR & Curitiba & 16 & 3 & 90\\
			RJ & Rio de Janeiro & 9 & 1 & 91\\
			RN & Natal & 2 & 3 & 29\\
			RO & Porto Velho & 0 & 0 & 0\\
			RR & Boa Vista & 0 & 0 & 0\\
			RS & Porto Alegre & 1 & 3 & 13\\
			SC & Florianópolis & 2 & 3 & 45\\
			SE & Aracaju & 2 & 1 & 10\\
			SP & São Paulo & 11 & 5 & 38\\
			TO & Palmas & 3 & 3 & 11\\
			\hline
		\end{tabular}
	}
	\center{\bf Fonte: }{Elaboração própria}
\end{table}